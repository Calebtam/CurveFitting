<?xml version="1.0"?>
<launch>

   <!-- <node pkg="tf" type="static_transform_publisher" name="base_link" args="0.3 0.4 0.5 0.6 0.7 0.8 0.9 base_link rslidar 20" />
   <node pkg="tf" type="static_transform_publisher" name="link1_broadcaster" args="1 0 0 0 0 0 1 base_link link1 100" /> -->



  <!-- rtk -->
  <node name="rtk" pkg="testcfg" type="tunable_static_tf_broadcaster_node.py" output="screen">
    <param name="rate" value="10.0" type="double" /> <!-- tfの更新レート[Hz]-->
    <param name="header_frame" value="robot" type="string" /> <!-- tfのヘッダフレームID -->
    <param name="child_frame" value="rtk" type="string" /> <!-- tfの子フレームID-->
    <param name="yaml" value="$(find testcfg)/params/rtk.yaml" type="string" /> <!-- 初期化用yaml -->
  </node>

  <!-- cam0 -->
  <node name="cam0" pkg="testcfg" type="tunable_static_tf_broadcaster_node.py" output="screen">
    <param name="rate" value="10.0" type="double" /> <!-- tfの更新レート[Hz]-->
    <param name="header_frame" value="robot" type="string" /> <!-- tfのヘッダフレームID -->
    <param name="child_frame" value="cam0" type="string" /> <!-- tfの子フレームID-->
    <param name="yaml" value="$(find testcfg)/params/cam.yaml" type="string" /> <!-- 初期化用yaml -->
  </node>

  <!-- cam1 -->
  <node name="cam" pkg="testcfg" type="tunable_static_tf_broadcaster_node.py" output="screen">
    <param name="rate" value="10.0" type="double" /> <!-- tfの更新レート[Hz]-->
    <param name="header_frame" value="cam0" type="string" /> <!-- tfのヘッダフレームID -->
    <param name="child_frame" value="cam1" type="string" /> <!-- tfの子フレームID-->
    <param name="yaml" value="$(find testcfg)/params/cam1.yaml" type="string" /> <!-- 初期化用yaml -->
  </node>

  <!-- arm -->
  <node name="imu" pkg="testcfg" type="tunable_static_tf_broadcaster_node.py" output="screen">
    <param name="rate" value="10.0" type="double" /> <!-- tfの更新レート[Hz]-->
    <param name="header_frame" value="cam0" type="string" /> <!-- tfのヘッダフレームID -->
    <param name="child_frame" value="imu" type="string" /> <!-- tfの子フレームID-->
    <param name="yaml" value="$(find testcfg)/params/imuCh0x0_now.yaml" type="string" /> <!-- 初期化用yaml -->
  </node>

  <!-- 設定用rqt_reconfigure -->
  <node name="rqt_reconfigure" pkg="rqt_reconfigure" type="rqt_reconfigure" output="screen"/>

  <!-- dynamic_reconfigureの調整済みパラメータロード -->
  <node name="load_base_link" pkg="dynamic_reconfigure" type="dynparam" args="load base_link $(find testcfg)/params/base_link.yaml" />
  <node name="load_arm" pkg="dynamic_reconfigure" type="dynparam" args="load arm $(find testcfg)/params/arm.yaml" />

  <node name="rqt_tf_tree" pkg="rqt_tf_tree" type="rqt_tf_tree" output="screen" />

  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find testcfg)/cfg/my_.rviz" output="screen" />

</launch>
